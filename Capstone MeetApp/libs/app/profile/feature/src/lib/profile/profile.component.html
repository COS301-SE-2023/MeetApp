<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button  defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>
        <h1 class="heading" >
          Profile
      </h1>
    </ion-title>
  </ion-toolbar>
</ion-header>


<div id="body">
   
       
    <div class="profile">
        <div class="circle">
          <img [src]=" profile.profilePicture" alt="Circle Image">
          <input type="file" id="newProfilePic" (change)="onProfilePicChange($event)">
        </div>
        <div class="profile-info">
            <h3>{{ profile.username }}</h3>
        <ion-list class="list">
          <ion-item class="list">
            <ion-label>Events</ion-label>
            <ion-badge color="primary">{{eventCount}}</ion-badge>
          </ion-item>
  
          <ion-item (click)="gotofriends()" class="list">
            <ion-label>Friendships</ion-label>
            <ion-badge color="primary">{{friendCount}}</ion-badge>
          </ion-item>
          
        </ion-list>
        
    
        </div> 
    
        <button class="follow-button" style="margin-top: 20px;" (click)="openEditProfilePopover()">Edit Profile</button>

        <div *ngIf="isEditMode" class="edit-profile-overlay" (click)="closeEditProfilePopover()"></div>
        <div *ngIf="isEditMode" class="edit-profile-popover">
          <h4>Edit Profile</h4>
          <div>
            <label for="newProfileName" style="color: aliceblue;">New Profile Name:</label>
            <input id="newProfileName" [(ngModel)]="newProfileName" placeholder="Enter new name">
          </div>
          <div>
            <label for="newProfilePic" style="color: aliceblue;">New Profile Picture:</label>
            <input type="file" id="newProfilePic" (change)="onProfilePicChange($event)">
          </div>
          <div>
            <ion-button (click)="saveProfile()">Save</ion-button>
            <ion-button (click)="closeEditProfilePopover()">Cancel</ion-button>
          </div>
        </div>
    </div>

    
    <div class="part1">
      <div class="image-container top-group" *ngFor="let event of events">
        <a href="/events/{{event._id}}" routerLinkActive="active">
          <img [src]="event.eventPoster" [alt]="'Image ' + (events.indexOf(event) + 1)">
        </a>
          </div> 
      </div>
    <!--<nav class="bottom-navbar">
        <ul>
          <li>
            <a href="/home" routerLinkActive="active">
              <i class="fas fa-home"></i>
              Home
            </a>
          </li>
          <li>
            <a href="/profile">
              <i class="fas fa-bell"></i>
              Notification
            </a>
          </li>
          <li>
            <a href="/profile" >
              <i class="fas fa-user"></i>
              Profile
            </a>
          </li>
        </ul>
    </nav>-->

  </div>
</html>
