<!DOCTYPE html>
<head>
  

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

</head>
<div class="spin" *ngIf="loader">
      
</div>

<div class="body" *ngIf="!loader">
<ion-searchbar show-clear-button="focus"  class="custom"  [(ngModel)]="searchQuery" (ionChange)="search()"></ion-searchbar>

<div id="index" class="index-page" class="scroll-container">

  

  

<ion-content class="font">
  <div>

  <div class="heading1">
    <h1>Recommended Events</h1>
  </div>
  <div class="scroll-container1" >
    <ion-card *ngFor="let item of data" class="card-first">
      <ion-card-header>
        <ion-card-title class="heading">{{ item.name }}</ion-card-title>
      </ion-card-header>
      <ion-img alt="Silhouette of mountains" src="{{ item.eventPoster }}" ></ion-img>
      <ion-card-content>
        {{ item.description }}
      </ion-card-content>
    </ion-card>
  </div>
</div>

<div>
<ion-card *ngFor="let item of data | filter:searchQuery "  class="custom-card"   (click)="viewEvent(item._id)">
  <ion-card-content>
  <ion-card-title class="heading">{{ item.name}}</ion-card-title>
</ion-card-content>
  <ion-img src="{{ item.eventPoster }}" alt="Silhouette of mountains" ></ion-img>
  <ion-card-header>
    
      <!--<ion-text class="bold-text">from &nbsp;{{ item.startTime}} &nbsp;to&nbsp; {{ item.endTime}} </ion-text>-->
      <ion-text class="bold-text">{{ item.date }}</ion-text>
      <ion-text class="bold-text">{{ item.region }}</ion-text>
  </ion-card-header>

 
    <ion-card-content>
    {{ item.description }}
  </ion-card-content> 
  
  <ion-item>
  <ion-label>Going</ion-label>
  
    <ion-badge  slot="end" color="secondary">{{attendanceData[item._id] }}</ion-badge>
  </ion-item>

</ion-card>
</div>
</ion-content>




<div class="stationary-box" (click)="gotomap()"  routerLinkActive="active">
  <a >
  <ion-card class="stationary-box1">
    <ion-card-content >
      <div class="white">
      <i  class="fas fa-map"></i>
      <span> &nbsp;Map</span>
    </div>
    
    </ion-card-content>
  </ion-card>
</a>
</div>


</div>
<div class="navigation-bar">
  <div  (click)="refreshPage()" routerLinkActive="active" class="navigation-item">
    <i class="fas fa-home"></i>
   
  </div>
  <div routerLink="/calendar" routerLinkActive="active"class="navigation-item">
    <i class="fas fa-calendar"></i>
    
  </div>
  <div (click)="gotoorganiser()"  routerLinkActive="active" class="navigation-item" *ngIf=" userType === 'organiser'">
    <i class=" fas fa-plus"></i>
  </div>
  <div  (click)="gotosettings()"  routerLinkActive="active" class="navigation-item">
    <i class="fas fa-cog" ></i>
    
  </div>
  <div (click)=" gotonotifications()" routerLinkActive="active" class="navigation-item">
    <i class="fas fa-bell"></i>
  
  </div>
  <div (click)="gotoprofile()" routerLinkActive="active" class="navigation-item">
    <i class="fas fa-user"></i>
  
  </div>
</div>
</div>